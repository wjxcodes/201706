
var UnionSearch={url:'',params:{},requestBeforeHandler:function(id){return true;},callback:function(data){},addElement:function(selector,eventName,opts){var us=this;$(selector).each(function(){$(this).live(eventName,function(){var options=$.extend({id:'',param:'',beforeHandler:function(){return true;}},opts);var that=$(this);us.params[options.id]=us.getValue(that,options.param);if(us.requestBeforeHandler(options.id)&&options.beforeHandler.call(that))
us.request();});});},request:function(){$.post(this.url,this.params,this.callback);},getValue:function(obj,attr){if(attr){return obj.attr(attr);}
var tagName=obj[0].tagName.toLowerCase();if(tagName=='select'||tagName=='input'||tagName=='textarea')
return obj.val();return'';}}